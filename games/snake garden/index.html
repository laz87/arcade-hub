<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JDJ9TGXZ7Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JDJ9TGXZ7Q');
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Snake Garden</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: none; /* Prevents screen bouncing while playing */
        }

        body {
            font-family: 'Georgia', serif;
            background: radial-gradient(ellipse at center, #0f2027 0%, #203a43 50%, #2c5364 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            position: relative;
            overflow: hidden;
        }

        /* Ambient Floating flowers background */
        .flower-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        /* --- UPDATED FLOWER STYLES --- */
.flower {
    position: absolute;
    opacity: 0.3; /* Subtle transparency */
    filter: blur(1px); /* Soft focus for depth */
    animation: float 15s infinite ease-in-out;
    user-select: none;
    z-index: 0;
}

/* A more chaotic, organic floating movement */
@keyframes float {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    25% { transform: translate(50px, 50px) rotate(30deg); }
    50% { transform: translate(-20px, 100px) rotate(-15deg); }
    75% { transform: translate(-60px, 30px) rotate(10deg); }
}
        /* Popping Flower Animation */
        .flower-pop {
            position: absolute;
            pointer-events: none;
            z-index: 10;
            animation: bloom 1.5s forwards ease-out;
        }

        @keyframes bloom {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            30% { transform: scale(1.5) rotate(20deg); opacity: 1; }
            100% { transform: scale(1.2) rotate(10deg); opacity: 0; transform: translateY(-40px); }
        }

        .game-container {
            text-align: center;
            padding: 20px;
            z-index: 1;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 5px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
        }

        .stats {
            display: inline-flex;
            gap: 30px;
            justify-content: center;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffd700;
        }

        #gameCanvas {
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            background: #1a1a2e;
            display: block;
            margin: 15px auto;
            max-width: 90vw;
            max-height: 70vh;
        }

        .controls {
            margin-top: 15px;
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        button {
            padding: 12px 25px;
            font-size: 1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary { background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(5px); }

        .game-over {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .game-over.show { display: flex; }

        .game-over-content {
            background: white;
            color: #333;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
        }
    </style>
</head>
<body>

    <div class="flower-bg">
    <div class="flower" style="left: -2%; top: -5%; font-size: 8rem; animation-delay: 0s;">üå∏</div>
    <div class="flower" style="right: -2%; top: -5%; font-size: 9rem; animation-delay: 2s;">üåª</div>
    <div class="flower" style="left: -2%; bottom: -5%; font-size: 8rem; animation-delay: 4s;">üå∫</div>
    <div class="flower" style="right: -2%; bottom: -5%; font-size: 9rem; animation-delay: 1s;">üåπ</div>

    <div class="flower" style="left: 20%; top: 20%; font-size: 4rem; animation-delay: 3s;">üåº</div>
    <div class="flower" style="left: 50%; top: 10%; font-size: 5rem; animation-delay: 7s;">üå∑</div>
    <div class="flower" style="left: 80%; top: 30%; font-size: 4rem; animation-delay: 5s;">üå∏</div>
    <div class="flower" style="left: 10%; top: 60%; font-size: 5rem; animation-delay: 8s;">üèµÔ∏è</div>
    <div class="flower" style="left: 40%; top: 75%; font-size: 3rem; animation-delay: 2s;">ü•Ä</div>
    <div class="flower" style="left: 70%; top: 65%; font-size: 6rem; animation-delay: 6s;">üå∫</div>
    <div class="flower" style="left: 30%; top: 40%; font-size: 3.5rem; animation-delay: 9s;">üåº</div>
    
    <div class="flower" style="left: 15%; top: 10%; font-size: 2rem; opacity: 0.2;">üå∏</div>
    <div class="flower" style="right: 25%; top: 80%; font-size: 2rem; opacity: 0.2;">üå∏</div>
    <div class="flower" style="left: 55%; bottom: 10%; font-size: 2rem; opacity: 0.2;">üå∏</div>
</div>

    <div class="game-container">
        <h1>üêç Snake Garden</h1>
        <div class="stats">
            <div class="stat"><div class="stat-value" id="score">0</div></div>
            <div class="stat"><div class="stat-value" id="highScore">0</div></div>
        </div>
        <canvas id="gameCanvas" width="400" height="400"></canvas>
        <div class="controls">
            <button onclick="startGame()">New Game</button>
            <button class="btn-secondary" id="pauseBtn" onclick="togglePause()">Pause</button>
        </div>
    </div>

    <div class="game-over" id="gameOver">
        <div class="game-over-content">
            <h2>‚òï Game Over!</h2>
            <div class="final-score">Your Score: <strong id="finalScore">0</strong></div>
            <button onclick="startGame()">Play Again</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');
        const highScoreEl = document.getElementById('highScore');
        const gameOverEl = document.getElementById('gameOver');
        const finalScoreEl = document.getElementById('finalScore');
        const pauseBtn = document.getElementById('pauseBtn');

        const gridSize = 20;
        const tileCount = canvas.width / gridSize;

        let snake = [{ x: 10, y: 10 }];
        let food = { x: 15, y: 15, emoji: 'üçâ' };
        let dx = 0, dy = 0, score = 0, gameLoop, isPaused = false, gameStarted = false;
        let highScore = localStorage.getItem('snakeHighScore') || 0;

        const foodEmojis = ['üçé', 'üçä', 'üçã', 'üçå', 'üçâ', 'üçá', 'üçì', 'üçí', 'üçë', 'üçç', 'ü•ù'];
        const flowerEmojis = ['üå∏', 'üåº', 'üå∫', 'üåª', 'üå∑'];

        highScoreEl.textContent = "Best: " + highScore;

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            if (type === 'eat') {
                osc.frequency.setValueAtTime(500, audioCtx.currentTime);
                gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            } else {
                osc.frequency.setValueAtTime(200, audioCtx.currentTime);
                gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
            }
            osc.start(); osc.stop(audioCtx.currentTime + 0.1);
        }

        function createFlowerPop(x, y) {
            const flower = document.createElement('div');
            flower.className = 'flower-pop';
            flower.textContent = flowerEmojis[Math.floor(Math.random() * flowerEmojis.length)];
            const rect = canvas.getBoundingClientRect();
            // Scale coordination based on actual canvas size vs CSS size
            const scale = rect.width / canvas.width;
            flower.style.left = (rect.left + (x * gridSize * scale)) + 'px';
            flower.style.top = (rect.top + (y * gridSize * scale)) + 'px';
            document.body.appendChild(flower);
            setTimeout(() => flower.remove(), 1500);
        }

        function startGame() {
            snake = [{ x: 10, y: 10 }];
            dx = 1; dy = 0; score = 0; isPaused = false; gameStarted = true;
            scoreEl.textContent = score;
            pauseBtn.textContent = 'Pause';
            gameOverEl.classList.remove('show');
            generateFood();
            if (gameLoop) clearInterval(gameLoop);
            gameLoop = setInterval(update, 100);
        }

        function update() {
            if (isPaused || !gameStarted) return;
            const head = { x: snake[0].x + dx, y: snake[0].y + dy };
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount || 
                snake.some(s => s.x === head.x && s.y === head.y)) {
                endGame(); return;
            }
            snake.unshift(head);
            if (head.x === food.x && head.y === food.y) {
                score += 10; scoreEl.textContent = score;
                playSound('eat'); createFlowerPop(food.x, food.y); generateFood();
            } else { snake.pop(); }
            draw();
        }

        function draw() {
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            snake.forEach((segment, index) => {
                ctx.fillStyle = (index === 0) ? '#4CAF50' : '#81C784';
                ctx.beginPath();
                ctx.roundRect(segment.x * gridSize + 1, segment.y * gridSize + 1, gridSize - 2, gridSize - 2, 5);
                ctx.fill();
            });
            ctx.font = `${gridSize * 0.8}px Arial`;
            ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
            ctx.fillText(food.emoji, food.x * gridSize + gridSize/2, food.y * gridSize + gridSize/2);
        }

        function generateFood() {
            food = { x: Math.floor(Math.random() * tileCount), y: Math.floor(Math.random() * tileCount), emoji: foodEmojis[Math.floor(Math.random() * foodEmojis.length)] };
            if (snake.some(s => s.x === food.x && s.y === food.y)) generateFood();
        }

        function endGame() {
            clearInterval(gameLoop); playSound('gameover');
            if (score > highScore) { highScore = score; localStorage.setItem('snakeHighScore', highScore); highScoreEl.textContent = "Best: " + highScore; }
            finalScoreEl.textContent = score; gameOverEl.classList.add('show');
            gameStarted = false;
        }

        function togglePause() { if (!gameStarted) return; isPaused = !isPaused; pauseBtn.textContent = isPaused ? 'Resume' : 'Pause'; }

        function changeDirection(dir) {
            if (dir === 'UP' && dy === 0) { dx = 0; dy = -1; }
            else if (dir === 'DOWN' && dy === 0) { dx = 0; dy = 1; }
            else if (dir === 'LEFT' && dx === 0) { dx = -1; dy = 0; }
            else if (dir === 'RIGHT' && dx === 0) { dx = 1; dy = 0; }
        }

        // Keyboard Controls
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowUp': case 'w': changeDirection('UP'); break;
                case 'ArrowDown': case 's': changeDirection('DOWN'); break;
                case 'ArrowLeft': case 'a': changeDirection('LEFT'); break;
                case 'ArrowRight': case 'd': changeDirection('RIGHT'); break;
                case ' ': togglePause(); break;
            }
        });

        // --- Swipe Logic ---
        let startX, startY;
        canvas.addEventListener('touchstart', e => {
            startX = e.touches[0].clientX; startY = e.touches[0].clientY;
        }, {passive: false});

        canvas.addEventListener('touchend', e => {
            const diffX = e.changedTouches[0].clientX - startX;
            const diffY = e.changedTouches[0].clientY - startY;
            if (Math.abs(diffX) > Math.abs(diffY)) {
                if (Math.abs(diffX) > 30) changeDirection(diffX > 0 ? 'RIGHT' : 'LEFT');
            } else {
                if (Math.abs(diffY) > 30) changeDirection(diffY > 0 ? 'DOWN' : 'UP');
            }
        }, {passive: false});

        draw();
    </script>
</body>
</html>